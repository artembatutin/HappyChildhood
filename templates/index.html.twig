{% extends "base.html.twig" %}
{% block title %}Index{% endblock %}
{% block body %}
    {% if not is_granted('IS_AUTHENTICATED_FULLY') %}
        <header class="masthead text-center text-white">
            <div class="masthead-content">
                <div class="container">
                    <h1 class="masthead-heading mb-0">Every sunrise,</h1>
                    <h2 class="masthead-subheading mb-0">with care and love.</h2>
                    <a href="#" class="btn btn-primary btn-xl rounded-pill mt-5">Register your child</a>
                </div>
            </div>
        </header>
    {% else %}
        <header class="head">
            <div class="masthead-content">
                <div class="container">
                    <h1 class="title">Welcome {{ app.user.firstName }} !</h1>
                </div>
            </div>
        </header>
    {% endif %}

    {%if blocks is defined and blocks|length > 0%}
        {% for block in blocks %}
            <section>
                <div class="container">
                    <div class="row align-items-center">

                        {%if loop.index is divisible by(2) %}
                            {{ block("block_image", "index_images.html.twig") }}
                        {%endif%}
                        <div class="col-lg-6 card rounded-circle">
                            <div class="p-5">
                                <h2 class="display-5">{{ block.getTitle }}</h2>
                                <p>{{ block.getMessage }}</p>
                            </div>
                        </div>
                        {%if loop.index is not divisible by(2)%}
                            {{ block("block_image", "index_images.html.twig") }}
                        {%endif%}
                    </div>
                </div>
            </section>
        {% endfor %}
    {% else %}
        <div class="container">
            <h2 class="title">There is no announcements for you at this moment.</h2>
        </div>
    {% endif %}
{% endblock %}